<html>
  <head>
    <script src="../javascripts/custom/components/loader.js"></script>
  </head>
  <body>
    <h1>Loader: <span id="num-passed">0</span>/4</h1>
    <img src="../assets/shared/loader.gif">
    <audio controls><source src="http://video.webmfiles.org/big-buck-bunny_trailer.webm"></audio>
    <video controls><source src="http://video.webmfiles.org/big-buck-bunny_trailer.webm"></video>
    <script>
      var passedContainer = document.querySelector('#num-passed');
      util.loader.ensureLoaded(document.querySelector('img'), function (loaded) {
        passedContainer.innerHTML = Number(passedContainer.innerHTML) + 1;
      });
      util.loader.ensureLoaded(document.querySelector('audio'), function (loaded) {
        passedContainer.innerHTML = Number(passedContainer.innerHTML) + 1;
      });
      util.loader.ensureLoaded(document.querySelector('video'), function (loaded) {
        passedContainer.innerHTML = Number(passedContainer.innerHTML) + 1;
      });

      util.loader.ensureLoaded([
          document.querySelector('img'), 
          document.querySelector('audio'),
          document.querySelector('video')],
        function (loaded) {
          passedContainer.innerHTML = Number(passedContainer.innerHTML) + 1;
        });
    </script>
  </body>
</html>
